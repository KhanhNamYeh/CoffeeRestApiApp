<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" />
    <link rel="stylesheet" href="/css/admin.css" />

</head>

<body class="main-body">
    <div class="min-h-screen flex flex-col md:flex-row">
        <aside class="sidebar p-4">
            <div class="text-2xl font-bold mt-4 mb-8 flex items-center gap-2">
                <span> <i class="fa-solid fa-coffee"></i> THE AP HOUSE</span>
            </div>
            <nav class="flex-1 space-y-2">

                <a href="/manage/menu" class="sidebar-link" onclick="showSection('menu')">
                    <span class="material-icons">local_cafe</span> Menu
                </a>
                <a href="/manage/client" class="sidebar-link">
                    <span class="material-icons">group</span> Clients
                </a>
                <a href="/manage/order" class="sidebar-link">
                    <span class="material-icons">receipt_long</span> Orders
                </a>
                <a href="/manage/anal" class="sidebar-link">
                    <span class="material-icons">bar_chart</span> Analytics
                </a>
                <a href="/manage/shift" class="sidebar-link active">
                    <span class="material-icons">schedule</span> Shifts
                </a>
                <a href="/manage/booking" class="sidebar-link">
                    <span class="material-icons">event</span> Booking
                </a>
            </nav>
            <div class="mt-auto space-y-1">
                <a href="/" class="sidebar-link">
                    <span class="material-icons">home</span> Dashboard
                </a>
                <a href="/manage" class="sidebar-link">
                    <span class="material-icons">help</span> Guide
                </a>
                <a href="#" class="sidebar-link" onclick="logoutAndRedirect()">
                    <span><i class="bi bi-box-arrow-right me-2"></i></span> Log out
                </a>
            </div>
        </aside>

        <main class="main-content p-6">
            <h2>Drop your Excel file here to upload staff schedule:</h2>
            <form id="uploadForm">
                <input type="file" id="excelFile" name="file" accept=".xlsx, .xls" required />
                <button type="submit" style="margin-left:10px;">Upload</button>
            </form>
            <br><br>
            <div id="excelData"></div>
            <h2>Click here to download the schedule form next week:</h2>
            <a href="/shift/download" id="downloadLink" style="text-decoration: underline;">Download Schedule</a>
            <div>
                <div class="schedule-container">
                    <div class="controls">
                        <button id="prevWeek" class="shift-button">« Previous week</button>
                        <div id="dateRange" class="date-display"></div>
                        <button id="nextWeek" class="shift-button">Following week »</button>
                    </div>
                    <table id="scheduleTable">
                        <thead>
                            <tr id="weekHeader">
                                <th>Monday</th>
                                <th>Tuesday</th>
                                <th>Wednesday</th>
                                <th>Thursday</th>
                                <th>Friday</th>
                                <th>Saturday</th>
                                <th>Sunday</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr id="morningShifts">
                                <!-- Morning shifts will be inserted here -->
                            </tr>
                            <tr id="afternoonShifts">
                                <!-- Afternoon shifts will be inserted here -->
                            </tr>
                            <tr id="eveningShifts">
                                <!-- Evening shifts will be inserted here -->
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="/js/shift.js"></script>
    <script src="/js/admin.js"></script>
</body>

</html>
